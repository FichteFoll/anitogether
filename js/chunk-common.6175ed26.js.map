{"version":3,"sources":["webpack:///./src/App.vue?6c3f","webpack:///./src/components/EntryList.vue?794f","webpack:///./src/components/Entry.vue?7c5d","webpack:///src/components/Entry.vue","webpack:///./src/components/Entry.vue?2157","webpack:///./src/components/Entry.vue?43d5","webpack:///src/components/EntryList.vue","webpack:///./src/components/EntryList.vue?868a","webpack:///./src/components/EntryList.vue?6ff4","webpack:///./src/components/Messages.vue?1733","webpack:///src/components/Messages.vue","webpack:///./src/components/Messages.vue?ed65","webpack:///./src/components/Messages.vue","webpack:///./src/components/Settings.vue?8bc3","webpack:///src/components/Settings.vue","webpack:///./src/components/Settings.vue?45ba","webpack:///./src/components/Settings.vue","webpack:///./src/components/UsersInput.vue?2242","webpack:///src/components/UsersInput.vue","webpack:///./src/components/UsersInput.vue?15eb","webpack:///./src/components/UsersInput.vue","webpack:///./src/query.js","webpack:///src/App.vue","webpack:///./src/App.vue?8b55","webpack:///./src/App.vue?622c","webpack:///./src/components/EntryList.vue?052c","webpack:///./src/App.vue?1b4c","webpack:///./src/components/Entry.vue?81fd"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","userHistory","model","value","callback","$$v","usersInput","expression","titleFormat","minShared","allShared","hideSeen","dark","on","$event","clearUserHistory","messages","dismissMessage","entries","orderedUsers","hiddenEntries","staticRenderFns","staticClass","_l","user","key","name","avatar","medium","_e","entry","isBelowThreshold","isSeen","media","visible","hideSelectActive","id","users","length","toggleHiddenEntries","_s","domProps","statsString","class","releasing","status","title","userPreferred","has","paused","get","negative","progress","maxEpisode","positive","latestEpisode","$set","props","Object","Array","Boolean","component","components","Entry","Number","computed","notBelowThreshold","filter","e","notSeen","total","hidden","belowThreshold","seen","shared","items","stats","n","i","map","x","join","methods","$emit","size","Math","min","from","values","every","message","index","text","kind","count","format","label","current","String","formats","watch","options","buildQuery","userNames","query","tmplOffset","tmplLen","userName","tmpl","split","getMediaLists","url","variables","method","headers","body","JSON","stringify","fetch","then","response","json","ok","Promise","reject","catch","errors","error","locations","line","userIndex","floor","LIGHT_PATH","sanitizeInput","inputString","inputArray","trim","inputSet","Set","delete","DEFAULTS","all","hide","EntryList","Messages","Settings","UsersInput","cache","sourceEntries","location","pathname","endsWith","oldParams","storageHistory","localStorage","getItem","removeItem","console","warn","loadHash","window","addEventListener","dstEntries","Map","srcEntries","rest","nextAiringEpisode","episode","episodes","set","mUsers","max","indexOf","getMediaTitle","ret","sort","a","b","localeCompare","push","setItem","updateLocation","fetchLists","updateUserHistory","knownUsers","keys","unknownUsers","log","collection","data","lists","reduce","sum","concat","showMessage","finalizeUpdate","Error","document","userSet","userArray","toString","romaji","updateIfChanged","prop","oldValue","inputParsers","hash2Obj","hash","substring","acc","elem","input","parser","decodeURIComponent","params","replaceFor","k","v","encodeURIComponent","shouldReplace","newPath","newUrl","origin","search","assign","replace","splice"],"mappings":"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","file":"js/chunk-common.6175ed26.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{attrs:{\"id\":\"container\"}},[_c('sui-form',{attrs:{\"id\":\"input-form\"}},[_c('sui-header',{attrs:{\"sub\":\"\"}},[_vm._v(\"Users\")]),_c('UsersInput',{attrs:{\"userHistory\":_vm.userHistory},model:{value:(_vm.usersInput),callback:function ($$v) {_vm.usersInput=$$v},expression:\"usersInput\"}}),_c('sui-header',{attrs:{\"sub\":\"\"}},[_vm._v(\"Settings\")]),_c('Settings',{attrs:{\"titleFormat\":_vm.titleFormat,\"minShared\":_vm.minShared,\"allShared\":_vm.allShared,\"hideSeen\":_vm.hideSeen,\"dark\":_vm.dark},on:{\"inputFormat\":function($event){_vm.titleFormat = $event},\"inputMinShared\":function($event){_vm.minShared = $event},\"inputAllShared\":function($event){_vm.allShared = $event},\"clearHistory\":_vm.clearUserHistory,\"inputHideSeen\":function($event){_vm.hideSeen = $event},\"inputDark\":function($event){_vm.dark = $event}}})],1),_c('sui-divider'),_c('Messages',{attrs:{\"messages\":_vm.messages},on:{\"dismiss\":_vm.dismissMessage}}),_c('EntryList',{attrs:{\"entries\":_vm.entries,\"users\":_vm.orderedUsers,\"minShared\":_vm.minShared,\"hideSeen\":_vm.hideSeen,\"allShared\":_vm.allShared},on:{\"updateHidden\":function($event){_vm.hiddenEntries = $event}}}),_c('footer',[_vm._v(\"\\n      Made by \"),_c('a',{attrs:{\"href\":\"https://github.com/FichteFoll\",\"target\":\"_blank\"}},[_vm._v(\"FichteFoll\")]),_vm._v(\";\\n      Open Source @\\n      \"),_c('a',{attrs:{\"href\":\"https://github.com/FichteFoll/anitogether\",\"target\":\"_blank\"}},[_c('sui-icon',{attrs:{\"name\":\"github\"}}),_vm._v(\" GitHub\\n      \")],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('sui-table',{staticClass:\"entry-table\",attrs:{\"definition\":\"\",\"celled\":\"\",\"compact\":\"\",\"unstackable\":\"\",\"selectable\":\"\"}},[_c('sui-table-header',[_c('sui-table-row',[_c('sui-table-header-cell',[_vm._v(\"Anime\")]),_vm._l((_vm.users),function(user){return _c('sui-table-header-cell',{key:user.name,attrs:{\"collapsing\":\"\",\"textAlign\":\"right\"}},[_c('a',{attrs:{\"href\":(\"https://anilist.co/user/\" + (user.name)),\"target\":\"_blank\"}},[_c('sui-image',{attrs:{\"rounded\":\"\",\"size\":\"mini\",\"src\":user.avatar.medium,\"title\":user.name}})],1)])}),_c('sui-table-header-cell',{attrs:{\"collapsing\":\"\",\"textAlign\":\"right\"}},[_vm._v(\"\\n        Latest\\n      \")]),_c('sui-table-header-cell',{staticClass:\"select-shows\",attrs:{\"collapsing\":\"\",\"textAlign\":\"center\"}},[_c('transition',{attrs:{\"name\":\"colfade\"}},[(_vm.hideSelectActive)?_c('div',{staticClass:\"animate\"},[_vm._v(\"\\n            Show \"),_c('br'),_vm._v(\" / Hide\\n          \")]):_vm._e()])],1)],2)],1),_c('transition-group',{attrs:{\"name\":\"rowfade\",\"tag\":\"tbody\"}},_vm._l((_vm.entries),function(entry){return (!_vm.isBelowThreshold(entry) && !_vm.isSeen(entry)\n            && (entry.media.visible || _vm.hideSelectActive))?_c('Entry',{key:entry.media.id,attrs:{\"entry\":entry,\"users\":_vm.users,\"hideSelectActive\":_vm.hideSelectActive}}):_vm._e()}),1),_c('sui-table-footer',{attrs:{\"fullWidth\":\"\"}},[_c('sui-table-header-cell',{attrs:{\"colspan\":3 + _vm.users.length}},[_c('sui-button',{attrs:{\"compact\":\"\",\"size\":\"small\",\"floated\":\"right\",\"primary\":_vm.hideSelectActive},on:{\"click\":_vm.toggleHiddenEntries}},[_vm._v(\"\\n        \"+_vm._s(_vm.hideSelectActive\n           ? \"Hide shows\"\n           : \"Select shows\")+\"\\n      \")]),_c('span',{staticClass:\"stats\",domProps:{\"innerHTML\":_vm._s(_vm.statsString)}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('sui-table-row',{staticClass:\"entry\"},[_c('sui-table-header-cell',{staticClass:\"title\",class:{ releasing: _vm.entry.media.status === 'RELEASING' },attrs:{\"title\":_vm.entry.media.status === 'RELEASING' ? 'Releasing' : ''}},[_c('transition',{attrs:{\"name\":\"title\",\"mode\":\"out-in\"}},[_c('div',{key:_vm.entry.media.title.userPreferred,staticClass:\"animate\"},[_c('a',{attrs:{\"href\":(\"https://anilist.co/anime/\" + (_vm.entry.media.id)),\"target\":\"_blank\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.entry.media.title.userPreferred)+\"\\n        \")])])])],1),_vm._l((_vm.users),function(user){return (_vm.entry.users.has(user.name))?_c('sui-table-cell',{key:user.name,staticClass:\"episode progress\",class:{ paused: _vm.entry.users.get(user.name).status === 'PAUSED',\n              negative: _vm.entry.users.get(user.name).progress !== _vm.entry.maxEpisode },attrs:{\"collapsing\":\"\",\"textAlign\":\"right\",\"title\":(\"Score: \" + (_vm.entry.users.get(user.name).score) + \" / 10\")}},[_c('div',{staticClass:\"animate\"},[_vm._v(\"\\n      \"+_vm._s(_vm.entry.users.get(user.name).progress || \"0\")+\"\\n    \")])]):_c('sui-table-cell')}),_c('sui-table-cell',{staticClass:\"episode latest\",class:{ positive: _vm.entry.maxEpisode !== _vm.entry.media.latestEpisode },attrs:{\"collapsing\":\"\",\"textAlign\":\"right\"}},[_c('div',{staticClass:\"animate\",attrs:{\"title\":((_vm.entry.media.latestEpisode) + \" / \" + (_vm.entry.media.episodes))}},[_vm._v(\"\\n      \"+_vm._s(_vm.entry.media.latestEpisode)+\"\\n    \")])]),_c('sui-table-header-cell',{attrs:{\"collapsing\":\"\"}},[_c('transition',{attrs:{\"name\":\"colfade\"}},[(_vm.hideSelectActive)?_c('div',{staticClass:\"animate\"},[_c('sui-checkbox',{attrs:{\"toggle\":\"\"},model:{value:(_vm.entry.media.visible),callback:function ($$v) {_vm.$set(_vm.entry.media, \"visible\", $$v)},expression:\"entry.media.visible\"}})],1):_vm._e()])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <sui-table-row\n      class=\"entry\"\n    >\n      <sui-table-header-cell class=\"title\"\n        :class=\"{ releasing: entry.media.status === 'RELEASING' }\"\n        :title=\"entry.media.status === 'RELEASING' ? 'Releasing' : ''\"\n      >\n        <transition name=\"title\" mode=\"out-in\">\n          <div class=\"animate\" :key=\"entry.media.title.userPreferred\">\n            <a\n              :href=\"`https://anilist.co/anime/${entry.media.id}`\"\n              target=\"_blank\"\n            >\n              {{ entry.media.title.userPreferred }}\n            </a>\n          </div>\n        </transition>\n      </sui-table-header-cell>\n\n      <sui-table-cell v-for=\"user of users\"\n        :key=\"user.name\"\n        v-if=\"entry.users.has(user.name)\"\n        collapsing textAlign=\"right\"\n        class=\"episode progress\"\n        :class=\"{ paused: entry.users.get(user.name).status === 'PAUSED',\n                  negative: entry.users.get(user.name).progress !== entry.maxEpisode }\"\n        :title=\"`Score: ${entry.users.get(user.name).score} / 10`\"\n      >\n        <div class=\"animate\">\n          {{ entry.users.get(user.name).progress || \"0\" }}\n        </div>\n      </sui-table-cell>\n      <sui-table-cell v-else></sui-table-cell>\n\n      <sui-table-cell collapsing textAlign=\"right\"\n        class=\"episode latest\"\n        :class=\"{ positive: entry.maxEpisode !== entry.media.latestEpisode }\"\n      >\n        <div class=\"animate\"\n          :title=\"`${entry.media.latestEpisode} / ${entry.media.episodes}`\"\n        >\n          {{ entry.media.latestEpisode }}\n        </div>\n      </sui-table-cell>\n\n      <sui-table-header-cell collapsing>\n        <transition name=\"colfade\">\n          <div class=\"animate\" v-if=\"hideSelectActive\">\n            <sui-checkbox toggle v-model=\"entry.media.visible\" />\n          </div>\n        </transition>\n      </sui-table-header-cell>\n    </sui-table-row>\n</template>\n\n<script>\n\nexport default {\n  props: {\n    entry: Object,\n    users: Array,\n    hideSelectActive: Boolean,\n  },\n}\n</script>\n\n<style lang=\"sass\">\n  .title.releasing a\n    color: hsl(93, 72%, 25%)\n\n  .animate .checkbox.toggle\n    display: block\n    min-height: 0\n\n  /*** Switching title format ***/\n  .title-enter-active, .title-leave-active\n    transition: all 0.2s\n  .title-enter\n    transform: translateX(2em)\n    opacity: 0\n  .title-leave-to\n    transform: translateX(-2em)\n    opacity: 0\n\n\n  /*** Columns ***/\n  .colfade-enter-active, .colfade-leave-active\n    transition: all 0.5s\n    .animate\n      transition: all 0.5s\n\n  .colfade-enter, .colfade-leave-to\n    border-width: 0px\n    padding-left: 0\n    padding-right: 0\n    transform: scaleX(0)\n    width: 0px\n    /*padding: 0*/\n    /*font-size: 0*/\n    min-width: 0px\n\n\n  /*** Fading table row components ***/\n  /* Reset padding on cells because we can't animate that */\n  .ui.compact.table .entry\n    td, th\n      padding: 0\n  .entry .animate\n    padding: .5em .7em\n\n  .rowfade-enter, .rowfade-leave-to\n    .animate\n      /*height: 0px*/\n      min-height: 0px\n      padding-top: 0\n      padding-bottom: 0\n      border-width: 0px\n      line-height: 0px /* unit is required */\n\n  /* WHY DOES THIS NOT MATCH IM FUCKING LOSING IT */\n  .rowfade-enter .animate .checkbox.toggle label,\n  .rowfade-leave-to .animate .checkbox.toggle label,\n    // min-height: 0\n  .animate .checkbox.toggle\n    display: block\n    min-height: 0\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Entry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Entry.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Entry.vue?vue&type=template&id=4f5ce061&\"\nimport script from \"./Entry.vue?vue&type=script&lang=js&\"\nexport * from \"./Entry.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Entry.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <!-- Need to wrap all table cells I intend to animate in a div\n    because you cannot override table row or cell sizes. -->\n  <sui-table\n    class=\"entry-table\"\n    definition celled compact unstackable selectable\n  >\n    <sui-table-header>\n      <sui-table-row>\n        <sui-table-header-cell>Anime</sui-table-header-cell>\n        <sui-table-header-cell v-for=\"user of users\"\n          :key=\"user.name\"\n          collapsing textAlign=\"right\"\n        >\n          <a v-bind:href=\"`https://anilist.co/user/${user.name}`\" target=\"_blank\">\n            <sui-image\n              rounded size=\"mini\"\n              :src=\"user.avatar.medium\"\n              :title=\"user.name\"\n            />\n          </a>\n        </sui-table-header-cell>\n        <sui-table-header-cell collapsing textAlign=\"right\">\n          Latest\n        </sui-table-header-cell>\n        <sui-table-header-cell collapsing textAlign=\"center\" class=\"select-shows\">\n          <transition name=\"colfade\">\n            <div class=\"animate\" v-if=\"hideSelectActive\">\n              Show <br> / Hide\n            </div>\n          </transition>\n        </sui-table-header-cell>\n      </sui-table-row>\n    </sui-table-header>\n\n    <transition-group name=\"rowfade\" tag=\"tbody\">\n      <Entry v-for=\"entry of entries\"\n        :key=\"entry.media.id\"\n        :entry=\"entry\"\n        :users=\"users\"\n        :hideSelectActive=\"hideSelectActive\"\n        v-if=\"!isBelowThreshold(entry) && !isSeen(entry)\n              && (entry.media.visible || hideSelectActive)\"\n      />\n    </transition-group>\n\n    <sui-table-footer fullWidth>\n      <sui-table-header-cell v-bind:colspan=\"3 + users.length\">\n        <sui-button compact size=\"small\" floated=\"right\"\n          :primary=\"hideSelectActive\"\n          @click=\"toggleHiddenEntries\"\n        >\n          {{ hideSelectActive\n             ? \"Hide shows\"\n             : \"Select shows\" }}\n        </sui-button>\n\n        <span class=\"stats\" v-html=\"statsString\"></span>\n      </sui-table-header-cell>\n    </sui-table-footer>\n  </sui-table>\n</template>\n\n<script>\nimport Entry from './Entry.vue'\n\nexport default {\n  components: {\n    Entry,\n  },\n  props: {\n    entries: Array,\n    users: Array,\n    minShared: Number,\n    hideSeen: Boolean,\n    allShared: Boolean,\n  },\n  data () {\n    return {\n      hideSelectActive: false,\n    }\n  },\n  computed: {\n    /**\n     * Statistics to be rendered in footer.\n     * @return {Object}\n     */\n    stats () {\n      const notBelowThreshold = this.entries.filter(e => !this.isBelowThreshold(e))\n      const notSeen = notBelowThreshold.filter(e => !this.isSeen(e))\n      const visible = notSeen.filter(({media}) => media.visible)\n      const releasing = visible.filter(({media}) => media.status === 'RELEASING')\n      return {\n        total: visible.length,\n        releasing: releasing.length,\n        hidden: notSeen.length - visible.length,\n        belowThreshold: this.entries.length - notBelowThreshold.length,\n        seen: notBelowThreshold.length - notSeen.length,\n      }\n    },\n    statsString () {\n      const shared = this.users.length > 1 && (this.allShared || this.minShared > 1)\n      const items = [\n        [this.stats.total, `${shared ? \"shared \" : \"\"}anime`],\n        [this.stats.releasing, \"releasing\"],\n        [this.stats.hidden, \"hidden\"],\n        [this.stats.belowThreshold, \"below threshold\"],\n        [this.stats.seen, \"up to date\"],\n      ]\n      return items\n        .filter(([n], i) => i === 0 || n > 0)\n        .map(x => x.join(\" \"))\n        .join(\", \")\n    },\n  },\n  methods: {\n    toggleHiddenEntries () {\n      this.hideSelectActive = !this.hideSelectActive\n\n      if (!this.hideSelectActive) {\n        const hiddenEntries = this.entries\n          .filter(({media}) => !media.visible)\n          .map(({media}) => media.id)\n        this.$emit('updateHidden', hiddenEntries)\n      }\n    },\n    isBelowThreshold (entry) {\n      return this.users.length > 1\n             && (this.allShared\n               ? entry.users.size < this.users.length\n               : entry.users.size < Math.min(this.minShared, this.users.length))\n    },\n    isSeen (entry) {\n      if (this.hideSeen) {\n        const users = Array.from(entry.users.values())\n        return users.every(user => user.progress === entry.media.latestEpisode)\n      }\n      return false\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\">\n  /*** Sticky table head ***/\n  /* Must be on th because of chrome (and edge) bug\n   * https://caniuse.com/#feat=css-sticky\n   */\n  thead th\n    position: sticky\n    top: 0\n    z-index: 5\n\n  thead th:first-child\n    /* Otherwise background is transparent */\n    background: white\n\n  /*** Columns ***/\n  .ui.compact.table th.select-shows\n    padding: 0\n  .select-shows .animate\n    padding: .5em .7em\n\n  .colfade-enter-active, .colfade-leave-active\n    transition: all 0.5s\n\n  .colfade-enter, .colfade-leave-to\n    border-width: 0px\n    padding-left: 0\n    padding-right: 0\n    transform: scaleX(0)\n    width: 0px\n    /*padding: 0*/\n    /*font-size: 0*/\n    min-width: 0px\n\n  /*** Hiding and showing entries ***/\n  .rowfade-enter-active, .rowfade-leave-active\n    transition: all 0.5s\n\n  .rowfade-enter, .rowfade-leave-to\n    transform: scaleY(0)\n\n  .rowfade-move\n    transition: transform 1s\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EntryList.vue?vue&type=template&id=13b10e34&\"\nimport script from \"./EntryList.vue?vue&type=script&lang=js&\"\nexport * from \"./EntryList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EntryList.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"messages\"}},_vm._l((_vm.messages),function(message,index){return _c('sui-message',{key:message.text,class:[message.kind === 'error' ? 'negative' : message.kind],attrs:{\"header\":(message.title || ''),\"content\":message.text + (message.count > 1 ? (\" (\" + (message.count) + \")\") : ''),\"dismissable\":\"\"},on:{\"dismiss\":function($event){return _vm.$emit('dismiss', index)}}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- TODO transitions -->\n  <div id=\"messages\">\n    <sui-message v-for=\"(message, index) of messages\"\n      :key=\"message.text\"\n      :class=\"[message.kind === 'error' ? 'negative' : message.kind]\"\n      :header=\"(message.title || '')\"\n      :content=\"message.text + (message.count > 1 ? ` (${message.count})` : '')\"\n      dismissable\n      @dismiss=\"$emit('dismiss', index)\"\n    />\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    messages: Array,\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Messages.vue?vue&type=template&id=43d978b0&\"\nimport script from \"./Messages.vue?vue&type=script&lang=js&\"\nexport * from \"./Messages.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('sui-form-fields',[_c('sui-form-field',[_c('label',[_vm._v(\"Title format\")]),_c('sui-form-fields',{attrs:{\"inline\":\"\"}},_vm._l((_vm.formats),function(format){return _c('sui-form-field',{key:format.value},[_c('sui-checkbox',{attrs:{\"radio\":\"\",\"label\":format.label,\"value\":format.value},on:{\"change\":function($event){return _vm.$emit('inputFormat', $event)}},model:{value:(_vm.current),callback:function ($$v) {_vm.current=$$v},expression:\"current\"}})],1)}),1)],1),_c('sui-form-field',[_c('label',[_vm._v(\"Minimum users for shared anime\")]),_c('sui-form-fields',{attrs:{\"inline\":\"\"}},[_c('sui-form-field',[_c('sui-input',{attrs:{\"type\":\"number\",\"value\":_vm.minShared,\"disabled\":_vm.allShared},on:{\"input\":function($event){_vm.$emit('inputMinShared', Number($event))}}})],1),_c('sui-form-field',[_c('sui-checkbox',{attrs:{\"label\":\"All\",\"inputValue\":_vm.allShared},on:{\"change\":function($event){return _vm.$emit('inputAllShared', $event)}}})],1)],1)],1),_c('sui-form-field',[_c('label',[_vm._v(\"History\")]),_c('sui-button',{attrs:{\"floated\":\"right\",\"icon\":\"delete\",\"compact\":\"\"},on:{\"click\":function($event){return _vm.$emit('clearHistory')}}},[_vm._v(\"\\n      Clear history\\n    \")])],1),_c('sui-form-field',[_c('label',[_vm._v(\"Other\")]),_c('sui-checkbox',{attrs:{\"label\":\"Hide seen by all\",\"inputValue\":_vm.hideSeen},on:{\"change\":function($event){return _vm.$emit('inputHideSeen', $event)}}}),_c('sui-checkbox',{attrs:{\"label\":\"Dark mode\",\"inputValue\":_vm.dark},on:{\"change\":function($event){return _vm.$emit('inputDark', $event)}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <sui-form-fields>\n    <sui-form-field>\n      <label>Title format</label>\n      <sui-form-fields inline>\n        <sui-form-field v-for=\"format of formats\" :key=\"format.value\">\n          <sui-checkbox\n            radio\n            :label=\"format.label\"\n            :value=\"format.value\"\n            v-model=\"current\"\n            @change=\"$emit('inputFormat', $event)\"\n          />\n        </sui-form-field>\n      </sui-form-fields>\n    </sui-form-field>\n\n    <sui-form-field>\n      <label>Minimum users for shared anime</label>\n      <sui-form-fields inline>\n        <sui-form-field>\n          <sui-input type=\"number\" :value=\"minShared\"\n            :disabled=\"allShared\"\n            @input=\"$emit('inputMinShared', Number($event))\"\n          />\n        </sui-form-field>\n        <sui-form-field>\n          <sui-checkbox\n            label=\"All\"\n            :inputValue=\"allShared\"\n            @change=\"$emit('inputAllShared', $event)\"\n          />\n        </sui-form-field>\n      </sui-form-fields>\n    </sui-form-field>\n\n    <sui-form-field>\n      <label>History</label>\n      <sui-button\n        floated=\"right\"\n        icon=\"delete\"\n        compact\n        @click=\"$emit('clearHistory')\"\n      >\n        Clear history\n      </sui-button>\n    </sui-form-field>\n\n    <sui-form-field>\n      <label>Other</label>\n      <sui-checkbox\n        label=\"Hide seen by all\"\n        :inputValue=\"hideSeen\"\n        @change=\"$emit('inputHideSeen', $event)\"\n      />\n      <sui-checkbox\n        label=\"Dark mode\"\n        :inputValue=\"dark\"\n        @change=\"$emit('inputDark', $event)\"\n      />\n    </sui-form-field>\n  </sui-form-fields>\n</template>\n\n<script>\nexport default {\n  props: {\n    minShared: Number,\n    allShared: Boolean,\n    titleFormat: String,\n    hideSeen: Boolean,\n    dark: Boolean,\n  },\n  data () {\n    return {\n      current: this.titleFormat, // need this to sync radios\n      formats: [\n        { label: \"Romaji\",  value: \"romaji\" },\n        { label: \"English\", value: \"english\" },\n        { label: \"Native\",  value: \"native\" },\n      ],\n    }\n  },\n  watch: {\n    titleFormat () {\n      this.current = this.titleFormat\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=c92f65ec&\"\nimport script from \"./Settings.vue?vue&type=script&lang=js&\"\nexport * from \"./Settings.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('sui-form-field',[_c('sui-dropdown',{attrs:{\"multiple\":\"\",\"placeholder\":\"Search users…\",\"search\":\"\",\"fluid\":\"\",\"selection\":\"\",\"options\":_vm.options,\"allow-additions\":\"\",\"value\":_vm.value},on:{\"input\":function($event){return _vm.$emit('input', $event)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <sui-form-field>\n    <sui-dropdown\n      multiple\n      placeholder=\"Search users…\"\n      search\n      fluid\n      selection\n      :options=\"options\"\n      allow-additions\n      :value=\"value\"\n      @input=\"$emit('input', $event)\"\n    />\n  </sui-form-field>\n</template>\n\n<script>\nexport default {\n  props: {\n    value: Array,\n    userHistory: Array,\n  },\n  computed: {\n    options () {\n      return this.userHistory.map(x => ({text: x, value: x}))\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UsersInput.vue?vue&type=template&id=077ec422&\"\nimport script from \"./UsersInput.vue?vue&type=script&lang=js&\"\nexport * from \"./UsersInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// https://github.com/AniList/ApiV2-GraphQL-Docs\n// https://anilist.gitbook.io/anilist-apiv2-docs/\n\nfunction buildQuery (userNames) {\n  let query = `query WatchingProgress($status: [MediaListStatus]) {\\n`\n  const tmplOffset = 2\n  let tmplLen = 0\n  for (const [i, userName] of userNames.entries()) {\n    const tmpl = `\\\n      user${i}: MediaListCollection(status_in: $status, userName: \"${userName}\", type: ANIME) {\n        user {\n          id\n          name\n          avatar {\n            medium\n          }\n        }\n        lists {\n          entries {\n            media {\n              id\n              title {\n                romaji\n                english\n                native\n              }\n              episodes\n              nextAiringEpisode {\n                episode\n              }\n              status\n            }\n            status\n            score\n            progress\n          }\n        }\n      }\\n`\n    // TODO get nextAiringEpisode timestamp and show on hover\n    if (tmplLen === 0) tmplLen = tmpl.split(\"\\n\").length - 1\n    query += tmpl\n  }\n  query += \"}\"\n  return {query, tmplOffset, tmplLen}\n}\n\nexport function getMediaLists (userNames, status) {\n  const url = 'https://graphql.anilist.co'\n  const variables = {\n    status,\n  }\n  const {query, tmplOffset, tmplLen} = buildQuery(userNames)\n  const options = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json',\n    },\n    body: JSON.stringify({\n      query,\n      variables,\n    }),\n  }\n\n  return fetch(url, options)\n    .then(response => response.json().then(json => response.ok ? json : Promise.reject(json)))\n    .catch((json) => {\n      // Attempt to determine user that wasn't found\n      // and replace message.\n      if (json.errors) {\n        for (const error of json.errors) {\n          const {message, locations} = error\n          if (message === \"User not found\") {\n            const [{line}] = locations\n            const userIndex = (line - tmplOffset) / tmplLen\n            error.message = `User ${userNames[Math.floor(userIndex)]} not found`\n          }\n        }\n      }\n      return Promise.reject(json)\n    })\n}\n","<template>\n  <div id=\"app\">\n    <div id=\"container\">\n      <sui-form id=\"input-form\">\n        <sui-header sub>Users</sui-header>\n        <UsersInput\n          v-model=\"usersInput\"\n          :userHistory=\"userHistory\"\n        />\n\n        <sui-header sub>Settings</sui-header>\n        <Settings\n          :titleFormat=\"titleFormat\"\n          @inputFormat=\"titleFormat = $event\"\n          :minShared=\"minShared\"\n          @inputMinShared=\"minShared = $event\"\n          :allShared=\"allShared\"\n          @inputAllShared=\"allShared = $event\"\n          @clearHistory=\"clearUserHistory\"\n          :hideSeen=\"hideSeen\"\n          @inputHideSeen=\"hideSeen = $event\"\n          :dark=\"dark\"\n          @inputDark=\"dark = $event\"\n        />\n      </sui-form>\n\n      <sui-divider />\n\n      <Messages\n        :messages=\"messages\"\n        @dismiss=\"dismissMessage\"\n      />\n\n      <EntryList\n        :entries=\"entries\"\n        :users=\"orderedUsers\"\n        :minShared=\"minShared\"\n        :hideSeen=\"hideSeen\"\n        :allShared=\"allShared\"\n        @updateHidden=\"hiddenEntries = $event\"\n      />\n\n      <footer>\n        Made by <a href=\"https://github.com/FichteFoll\" target=\"_blank\">FichteFoll</a>;\n        Open Source @\n        <a href=\"https://github.com/FichteFoll/anitogether\" target=\"_blank\">\n          <sui-icon name=\"github\" /> GitHub\n        </a>\n      </footer>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue'\n\nimport EntryList from './components/EntryList.vue'\nimport Messages from './components/Messages.vue'\nimport Settings from './components/Settings.vue'\nimport UsersInput from './components/UsersInput.vue'\n\nimport {getMediaLists} from './query.js'\n\n\nconst LIGHT_PATH = \"light.html\"\n\n/**\n * Split a string by comma and remove duplicates.\n * @param  {String} inputString The string to split.\n * @return {Array}              Disjoined elements of the string.\n */\nfunction sanitizeInput (inputString) {\n  const inputArray = inputString.split(\",\").map(x => x.trim())\n  const inputSet = new Set(inputArray)\n  inputSet.delete(\"\")\n  return [...inputSet]\n}\n\n// Default parameters\nconst DEFAULTS = {\n  users: [],\n  format: \"romaji\",\n  minShared: 2,\n  hideSeen: true,\n  all: false,\n  hide: [],\n}\n\nexport default {\n  components: {\n    EntryList,\n    Messages,\n    Settings,\n    UsersInput,\n  },\n  data () {\n    return {\n      // would like to use Maps, but Vue doesn't support those in v-for\n      // https://github.com/vuejs/vue/issues/2410\n      cache: {},\n      sourceEntries: {},\n      users: {},\n      usersInput: DEFAULTS.users,\n      userHistory: [],\n      titleFormat: DEFAULTS.format,\n      minShared: DEFAULTS.minShared,\n      allShared: DEFAULTS.all,\n      hiddenEntries: DEFAULTS.hide,\n      hideSeen: DEFAULTS.hideSeen,\n      dark: !location.pathname.endsWith(LIGHT_PATH),\n      messages: [],\n      // Use this to track whether hash needs to change\n      // (and when we should add an entry to the history)\n      oldParams: DEFAULTS,\n    }\n  },\n  created () {\n    try {\n      const storageHistory = localStorage.getItem('userHistory') || \"\"\n      if (storageHistory !== \"\") {\n        this.userHistory = storageHistory.split(',')\n      }\n      localStorage.removeItem('dark')\n    } catch (e) {\n      console.warn(\"Unable to access localStorage\")\n    }\n    this.loadHash()\n    window.addEventListener('hashchange', this.loadHash)\n  },\n  computed: {\n    entries () {\n      const dstEntries = new Map()\n      for (const [userName, srcEntries] of Object.entries(this.sourceEntries)) {\n        for (const {media, ...rest} of srcEntries) {\n          if (!dstEntries.has(media.id)) {\n            if (!media.latestEpisode) {\n              media.latestEpisode\n                = media.nextAiringEpisode && media.nextAiringEpisode.episode > 0\n                  ? media.nextAiringEpisode.episode - 1\n                  : media.episodes || \"?\"\n            }\n            dstEntries.set(media.id, {media, users: new Map()})\n          }\n          dstEntries.get(media.id).users.set(userName, rest)\n        }\n      }\n\n      // Compute some props on entries\n      for (const entry of dstEntries.values()) {\n        const mUsers = [...entry.users.values()]\n        entry.maxEpisode = Math.max(...mUsers.map(e => e.progress))\n        entry.media.visible = this.hiddenEntries.indexOf(entry.media.id) === -1\n        entry.media.title.userPreferred = this.getMediaTitle(entry.media)\n      }\n\n      // Build sorted Array\n      const ret = [...dstEntries.values()]\n      ret.sort((a, b) => a.media.title.userPreferred.localeCompare(b.media.title.userPreferred, \"ja\"))\n      return ret\n    },\n    /**\n     * Order users in entries by user input.\n     * @return {Array[Object]} Sorted user objects.\n     */\n    orderedUsers () {\n      const orderedUsers = []\n      for (const name of this.usersInput) {\n        if (this.users[name]) {\n          orderedUsers.push(this.users[name])\n        }\n      }\n      return orderedUsers\n    },\n  },\n  watch: {\n    userHistory () {\n      try {\n        localStorage.setItem('userHistory', this.userHistory.join(','))\n      } catch (e) {\n        console.warn(\"Unable to set localStorage\")\n      }\n    },\n    minShared () { this.updateLocation() },\n    usersInput () { this.updateLocation(); this.fetchLists() },\n    titleFormat () { this.updateLocation() },\n    hiddenEntries () { this.updateLocation() },\n    hideSeen () { this.updateLocation() },\n    allShared () { this.updateLocation() },\n    dark () { this.updateLocation() },\n  },\n  methods: {\n    fetchLists () {\n      const userNames = this.usersInput\n      if (userNames.length === 0) return\n      this.updateUserHistory(userNames)\n\n      const knownUsers = new Set(Object.keys(this.cache))\n      const unknownUsers = userNames.filter(name => !knownUsers.has(name))\n      if (unknownUsers.length === 0) {\n        this.finalizeUpdate()\n        return\n      }\n\n      console.log(\"fetching info for\", unknownUsers)\n      // Could show a loading icon here,\n      // but responses are so fast it doesn't matter.\n      getMediaLists(unknownUsers, \"CURRENT\")\n        .then((json) => {\n          console.log(\"results for users\", unknownUsers, json)\n          for (const collection of Object.values(json.data)) {\n            const user = collection.user\n            // Custom lists cause us to collect duplicates,\n            // but the computed `entries` prop doesn't care about them.\n            const entries = collection.lists.reduce(\n              (sum, x) => sum.concat(x.entries),\n              []\n            )\n            if (entries.length === 0) {\n              this.showMessage(\"warning\", `${user.name}'s list is empty`)\n              continue\n            }\n            Vue.set(this.cache, user.name, [user, entries])\n          }\n          this.finalizeUpdate()\n        })\n        .catch((error) => {\n          if (error instanceof Error) {\n            this.showMessage(error.message)\n          } else if (error.errors) { // actually payload\n            for (const {message} of error.errors) {\n              this.showMessage(\"error\", message)\n            }\n          } else {\n            console.error(\"fetch error\", error)\n          }\n        })\n    },\n    finalizeUpdate () {\n      const sourceEntries = {}\n      const users = {}\n      for (const name of this.usersInput) {\n        const [user, entries] = this.cache[name]\n        sourceEntries[name] = entries\n        users[name] = user\n      }\n      this.sourceEntries = sourceEntries\n      this.users = users\n      // https://stackoverflow.com/questions/36612847/how-can-i-bind-the-html-title-content-in-vuejs\n      document.title = `AniTogether - ${this.usersInput.join(\", \")}`\n      console.log(\"update done for\", this.usersInput)\n    },\n    /**\n     * Update userHistory and prevent duplicates (by using a Set).\n     * @param  {Array} userNames Names to add.\n     */\n    updateUserHistory (userNames) {\n      const userSet = new Set([...this.userHistory, ...userNames])\n      const userArray = [...userSet]\n      userArray.sort((a, b) => a.localeCompare(b))\n      if (this.userHistory.toString() !== userArray.toString()) {\n        this.userHistory = userArray\n      }\n    },\n    clearUserHistory () {\n      this.userHistory = []\n    },\n    getMediaTitle (media) {\n      // english and native may be null, so always fall back to romaji\n      return media.title[this.titleFormat] || media.title.romaji\n    },\n    loadHash () {\n      const updateIfChanged = (prop, value) => {\n        // don't update props unnecessarily\n        const oldValue = this[prop]\n        if (JSON.stringify(oldValue) !== JSON.stringify(value)) {\n          this[prop] = value\n          return true\n        }\n        return false\n      }\n\n      const inputParsers = {\n        users: sanitizeInput,\n        // format: x => x,\n        minShared: Number,\n        hideSeen: x => x == 'true',\n        all: x => x == 'true',\n        hide: x => sanitizeInput(x).map(Number),\n      }\n\n      const hash2Obj = location.hash.substring(1)\n        .split(\"&\")\n        .filter(x => x !== \"\")\n        .reduce(\n          (acc, elem) => {\n            const [key, input] = elem.split(\"=\")\n            const parser = inputParsers[key] || (x => x)\n            acc[key] = parser(decodeURIComponent(input))\n            return acc\n          },\n          {}\n        )\n      const params = {...DEFAULTS, ...hash2Obj}\n\n      // Set data\n      if (!updateIfChanged('oldParams', params)) return // short-circuit\n      // TODO this causes updateLocation to be called for every changed input,\n      // especially on first load.\n      updateIfChanged('usersInput', params.users)\n      updateIfChanged('titleFormat', params.format)\n      updateIfChanged('minShared', params.minShared)\n      updateIfChanged('hideSeen', params.hideSeen)\n      updateIfChanged('allShared', params.all)\n      updateIfChanged('hiddenEntries', params.hide)\n    },\n    /**\n     * Update location hash parameters.\n     */\n    updateLocation () {\n      const params = {\n        // Must keep same order as DEFAULTS, so we use rest spread\n        ...DEFAULTS,\n        users: this.usersInput.join(\",\"),\n        format: this.titleFormat,\n        minShared: this.minShared,\n        hideSeen: this.hideSeen,\n        all: this.allShared,\n        hide: this.hiddenEntries.join(\",\"),\n      }\n      const replaceFor = new Set([\"users\"])\n\n      const hash = \"#\" + Object.entries(params)\n        .filter(([k, v]) => v != DEFAULTS[k])\n        .map(([k, v]) => `${k}=${encodeURIComponent(v)}`)\n        .join('&')\n\n      let shouldReplace = Object.entries(params)\n        .filter(([k, v]) => v != this.oldParams[k])\n        .every(([k]) => replaceFor.has(k))\n\n      let newPath = location.pathname\n      if (newPath.endsWith(LIGHT_PATH) && this.dark) {\n        newPath = newPath.substring(0, newPath.length - LIGHT_PATH.length)\n        shouldReplace = false\n      }\n      else if (!newPath.endsWith(LIGHT_PATH) && !this.dark) {\n        newPath += LIGHT_PATH\n        shouldReplace = false\n      }\n\n      const newUrl = location.origin + newPath + location.search + hash\n      if (shouldReplace) {\n        location.assign(newUrl)\n      } else {\n        location.replace(newUrl)\n      }\n\n      this.oldParams = params\n    },\n    /**\n     * Render a message in the html.\n     * @param  {String} kind  One of \"error\", \"warning\", \"info\", \"positive\".\n     * @param  {[type]} text  (optional)\n     * @param  {[type]} title (optional)\n     */\n    showMessage (kind, text, title) {\n      if (!text || text === \"\") return\n      for (const message of this.messages) {\n        if (message.text === text) {\n          message.count += 1\n          return\n        }\n      }\n      this.messages.push({kind, text, title, count: 1})\n    },\n    dismissMessage (index) {\n      this.messages.splice(index, 1)\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\">\n  #app\n    margin: 2em\n\n  #container\n    max-width: 800px\n    margin: auto\n\n  footer\n    text-align: right\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7bc22e36&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryList.vue?vue&type=style&index=0&lang=sass&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryList.vue?vue&type=style&index=0&lang=sass&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=sass&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=sass&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Entry.vue?vue&type=style&index=0&lang=sass&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Entry.vue?vue&type=style&index=0&lang=sass&\""],"sourceRoot":""}